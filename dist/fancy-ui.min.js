/*!
 * Fancy UI v0.0.5
 * https://github.com/myspace-nu
 *
 * Copyright 2024 Johan Johansson
 * Released under the MIT license
 */
void 0===window.fancyAlert&&(window.fancyAlertBox=class{constructor(t,e,n){if(n=Object.assign({closeButton:!0,icon:"&#128712;",timeout:!1,type:"info"},n),this.node=document.createElement("div"),this.close=()=>{let t=this.node;this.node.style.transition="all 1s ease",this.node.style.transform="scale(0)",this.node.addEventListener("transitionend",function(){t.remove()})},this.node.classList.add("fancy-alert","fancy-alert-"+n.type),n.discrete&&this.node.classList.add("fancy-alert-discrete"),n.icon){let t=document.createElement("div");t.classList.add("fancy-alert-icon"),t.innerHTML=n.icon,this.node.append(t)}let i=document.createElement("div");if(i.classList.add("fancy-alert-message"),i.innerHTML=e,this.node.append(i),n.closeButton){let t=document.createElement("div");t.classList.add("fancy-alert-close"),t.innerHTML="&#x2715;",t.addEventListener("click",t=>{this.close(t.target.closest(".fancy-alert"))}),this.node.append(t)}return t.node.prepend(this.node),n.timeout&&window.setTimeout(()=>{this.close()},n.timeout),this}close(){this.close()}},window.fancyAlert=class{constructor(t,e){this.options=Object.assign({onClick:()=>{}},e),this.container;return"string"==typeof t?this.node=document.querySelector(t):Node.prototype.isPrototypeOf(t)&&(this.node=t),this.node||(this.node=document.body),this}show(t,e){return new fancyAlertBox(this,t,e)}}),void 0===window.fancyAutocomplete&&(window.fancyAutocomplete=class{constructor(t,e){this.options=Object.assign({deduplicate:!0,words:[]},e),this.nodes=[];"string"==typeof t?this.nodes=Array.prototype.slice.call(document.querySelectorAll(t)):"object"==typeof t&&void 0===t.length?this.nodes.push(t):"object"==typeof t&&0<t.length&&(this.nodes=Array.prototype.slice.call(t));for(const l of this.nodes){const r=document.createElement("UL");r.className="fancy-autocomplete-list",l.parentNode.insertBefore(r,l.nextSibling);let o=this.options.words.concat(l.dataset.autocomplete.split(",")),a=(this.options.deduplicate&&(o=[...new Set(o.map(t=>t.trim()))]),-1);const c=t=>{t=t.split(/[\s,]+/);return t[t.length-1]},d=t=>{t=t.match(/^(.*?)([\s,]*)[^,\s]*$/);return t?t[1]+(t[2]||""):""};const n=t=>{const e=r.querySelectorAll("li");if(0!==e.length){(a=(a+=t)<0?e.length-1:a)>=e.length&&(a=0),e.forEach((t,e)=>{t.classList.toggle("active",e===a)});const n=e[a];n&&n.scrollIntoView({block:"nearest"})}};l.addEventListener("input",()=>{var t=l.value;const n=c(t).toLowerCase();if(r.innerHTML="",a=-1,n){const i=l.value.split(/[\s,]+/).map(t=>t.trim()).filter(t=>0<t.length),e=o.map(t=>t.trim()).filter(t=>{const e=t.toLowerCase();if(this.options.deduplicate&&i.some(t=>t.toLowerCase()===e))return!1;return e.startsWith(n)}).sort();if(0===e.length)r.style.display="none";else{const s=d(t);e.forEach((t,e)=>{const n=document.createElement("li");n.textContent=t,n.setAttribute("data-index",e),n.addEventListener("click",()=>{l.value=s+t+" ",r.style.display="none",l.focus()}),r.appendChild(n)});t=l.getBoundingClientRect();r.style.width=t.width+"px",r.style.display="block",r.style.left=t.left+window.scrollX+"px",t.bottom+r.offsetHeight<window.innerHeight?r.style.top=t.bottom+window.scrollY+"px":r.style.top=t.top+window.scrollY-r.offsetHeight+"px"}}else r.style.display="none"}),l.addEventListener("keydown",t=>{if("block"===r.style.display)switch(t.key){case"ArrowDown":t.preventDefault(),n(1);break;case"ArrowUp":t.preventDefault(),n(-1);break;case"Enter":t.preventDefault();{const e=r.querySelector("li.active");e&&e.click()}break;case"Escape":r.style.display="none"}}),document.addEventListener("click",t=>{t.target!==l&&t.target.parentNode!==r&&(r.style.display="none")})}return this}}),void 0===window.fancyBlocker&&(window.fancyBlocker=class{constructor(t){if(this.options=Object.assign({onClick:()=>{}},t),this.blocker=document.createElement("div"),this.blocker.className="fancy-blocker",this.options.spinner){let t=document.createElement("div");t.className="spinner",this.blocker.appendChild(t)}return document.body.appendChild(this.blocker),this}show(){return this.blocker.style.display="flex",document.body.classList.add("fancy-noscroll"),this}hide(){return this.blocker.style.display="none",document.body.classList.remove("fancy-noscroll"),this}destroy(){return this.blocker.remove(),document.body.classList.remove("fancy-noscroll"),this}}),void 0===window.fancyContextMenu&&(window.fancyContextMenu=class{constructor(t,e){this.options=Object.assign({trigger:"contextmenu",onClick:()=>{}},e),this.nodes=[],this.container;const n=this;"string"==typeof t?this.nodes=Array.prototype.slice.call(document.querySelectorAll(t)):"object"==typeof t&&void 0===t.length?this.nodes.push(t):"object"==typeof t&&0<t.length&&(this.nodes=Array.prototype.slice.call(t));try{this.content="string"==typeof this.options.content&&document.querySelector(this.options.content)?document.querySelector(this.options.content).innerHTML:"object"==typeof this.options.content&&void 0===this.options.content.length?this.options.content.innerHTML:"string"==typeof this.options.content?this.options.content:""}catch{this.content=this.options.content}for(const i of this.nodes)i.addEventListener(this.options.trigger,function(t){t.preventDefault(),t.stopPropagation(),n.init(t)});return document.addEventListener("click",t=>{n.remove(t)}),document.addEventListener("contextmenu",t=>{n.remove(t)}),document.addEventListener("scroll",t=>{n.remove(t)}),window.addEventListener("resize",t=>{n.remove(t)}),this}init(t){const n=this;this.container&&this.remove(),this.container=document.createElement("div"),this.container.style.display="none",this.container.style.position="fixed",this.container.className="fancy-context-menu",document.body.appendChild(this.container),this.container.innerHTML=this.content,this.container.style.display="",t.clientX+this.container.offsetWidth>window.innerWidth?(this.container.style.left=t.clientX-this.container.offsetWidth+10+"px",this.container.querySelectorAll("ul").forEach(t=>{t.style.left="",t.style.right="100%"})):(this.container.style.left=t.clientX-10+"px",this.container.querySelectorAll("ul").forEach(t=>{t.style.left="100%",t.style.right=""})),this.container.style.top=t.clientY>window.innerHeight/2?t.clientY-this.container.offsetHeight+10+"px":t.clientY-10+"px",this.container.addEventListener("click",function(t){var e="A"===t.target.tagName?t.target:t.target.closest("a");e.href&&e.href===location.href.split(/[#?]/)[0]&&t.preventDefault(),n.options.onClick.call(this,t,e)})}remove(t){this.container&&(this.container.remove(),this.container=null)}}),void 0===window.fancyDialog&&(window.fancyDialog=(a={})=>{a.buttons||=["Ok"],a.buttons=a.buttons.map(t=>((t="string"==typeof t?{text:t}:t).action||=t.text,t.type||="confirm",t)),a.blocking??=!0,a.dismissable??=!1;const l=document.createElement("div"),r=(l.className="fancy-dialog",a.blocking&&l.classList.add("blocking"),document.createElement("div"));r.className="fancy-dialog-content",r.innerHTML=a.content instanceof HTMLElement&&a.content.type?.match(/text/i)?a.content.textContent:a.content instanceof HTMLElement?a.content.innerHTML:a.content||"";for(const e of Object.keys(a.initialValues||{}))[...r.querySelectorAll(`*[name="${e}"]`)].forEach(t=>{"SELECT"===t.tagName?[...t.querySelectorAll("option")].forEach(t=>{t.selected=a.initialValues[e].includes(t.value)}):["radio","checkbox"].includes(t.type)?t.checked=t.value===a.initialValues[e]||"checkbox"===t.type&&!0===a.initialValues[e]:t.value=a.initialValues[e]});l.appendChild(r),document.body.appendChild(l),l.style.display="flex",document.body.classList.add("fancy-noscroll");const c=()=>{l.style.display="none",document.body.classList.remove("fancy-noscroll"),l.remove()};return{promise:new Promise((e,t)=>{if(a.buttons){const i=document.createElement("div");i.className="fancy-dialog-buttons";for(const s of a.buttons){const o=document.createElement("button");o.innerHTML=s.text,o.addEventListener("click",()=>{let t={};if(l.querySelector("form")){if("confirm"===s.type&&!l.querySelector("form").reportValidity())return!1;t=[...new FormData(l.querySelector("form")).entries()].reduce((t,[e,n])=>(t[e]=t.hasOwnProperty(e)?[].concat(t[e],n):n,t),{})}e({action:s.action?.toLowerCase(),button:s,data:t}),c()}),i.appendChild(o)}r.appendChild(i)}l.querySelector("form")?.addEventListener("submit",t=>{t.preventDefault(),console.log(a)}),l.addEventListener("click",t=>{t.target===l&&a.dismissable&&(e({}),c())});const n=t=>{"Escape"!==t.key||t.ctrlKey||t.altKey||t.shiftKey||(document.removeEventListener("keydown",n),e({}),c())};document.addEventListener("keydown",n)}),close:()=>{c()}}}),void 0===window.fancyParallaxScroll&&(window.fancyParallaxScroll=class{constructor(t=".fancy-parallax-scroll",e){this.options=Object.assign({},e),this.nodes=[],"string"==typeof t?this.nodes=Array.prototype.slice.call(document.querySelectorAll(t)):"object"==typeof t&&void 0===t.length?this.nodes.push(t):"object"==typeof t&&0<t.length&&(this.nodes=Array.prototype.slice.call(t));const n=()=>{for(const i of this.nodes){var t,e,n;window.scrollY+window.innerHeight>i.offsetTop&&window.scrollY<i.offsetTop+i.offsetHeight&&(t=Math.min(Math.max(parseFloat(i.dataset.speed),1),-1)||1,e=(window.scrollY+window.innerHeight-i.offsetTop)*t,n=window.innerHeight+i.offsetHeight,i.style.backgroundPosition=`50% ${e/n*100+(50-50*t)}%`)}};return window.addEventListener("load",()=>{n()}),window.addEventListener("scroll",()=>{n()}),window.addEventListener("resize",()=>{n()}),this}}),void 0===window.fancySlider&&(window.fancySlider=class{constructor(t,e){if(this.options=Object.assign({history:!0,navigation:!1,pagination:!1,preloadImages:!0,autoplayDelay:5e3,useZoom:!1,zoomPercent:200,onShow:()=>{},onStart:()=>{},onStop:()=>{}},e),"object"==typeof(t="string"==typeof t?document.querySelectorAll(t):t)&&1<t.length){let e=[];return t.forEach(t=>{e.push(new fancySlider(t))}),e}if(this.element=t[0],this.currentSlide=null,this.isZoomed=!1,this.element.querySelectorAll(".slide").forEach((t,e)=>{t.dataset.initialClasses=t.className}),this.options.preloadImages&&(this.element.querySelectorAll("img").forEach(t=>{let e=new Image;e.src=t.src}),this.element.querySelectorAll("div").forEach(e=>{if(e.style["background-image"]){let t=new Image;t.src=e.style["background-image"].match(/url\(["']?([^"']*)["']?\)/)[1]}})),this.options.history){let t;(t=document.createElement("a")).innerHTML="&#10094;",t.addEventListener("click",t=>{this.backward()}),t.classList.add("prev"),this.element.appendChild(t),(t=document.createElement("a")).innerHTML="&#10095;",t.addEventListener("click",t=>{this.forward()}),t.classList.add("next"),this.element.appendChild(t)}if(this.options.navigation){let i=document.createElement("nav");this.element.querySelectorAll(".slide").forEach((t,e)=>{let n=document.createElement("a");n.addEventListener("click",t=>{this.show(e+1),this.options.autoplay&&this.start()}),i.appendChild(n)}),this.element.appendChild(i)}if(this.options.pagination){this.paginationElement=document.createElement("div"),this.paginationElement.className="pagination";let t="boolean"==typeof this.options.pagination?this.element:"string"==typeof this.options.pagination&&document.querySelector(this.options.pagination)?document.querySelector(this.options.pagination):"object"==typeof this.options.pagination?this.options.pagination:this.element;t.appendChild(this.paginationElement)}return this.options.useZoom&&(this.element.addEventListener("mouseenter",t=>{const e=this.element.querySelectorAll(".slide")[this.currentSlide-1];e.style.backgroundSize=Math.min(Math.max(this.options.zoomPercent,100),500)+"%",this.isZoomed=!0}),this.element.addEventListener("mouseleave",t=>{const e=this.element.querySelectorAll(".slide")[this.currentSlide-1];e.style.backgroundSize="cover",this.isZoomed=!1}),this.element.addEventListener("mousemove",t=>{const e=this.element.querySelectorAll(".slide")[this.currentSlide-1];var n=e.getBoundingClientRect(),i=(t.clientX-n.left)/n.width*100,t=(t.clientY-n.top)/n.height*100;e.style.backgroundPosition=i+`% ${t}%`})),this.options.autoplay&&this.start(),this.show(1),this}show(t){var e;this.isZoomed&&(e=this.isZoomed,this.element.dispatchEvent(new Event("mouseleave")),this.isZoomed=e);let n=this.element.querySelectorAll(".slide"),i=t>this.currentSlide?"Right":"Left",s="Right"==i?"Left":"Right";1<=this.currentSlide&&setTimeout(t=>{n[t-1].className="slide"==n[t-1].dataset.transition?n[t-1].dataset.initialClasses+" slide-slideOut"+s:"rotate"==n[t-1].dataset.transition?n[t-1].dataset.initialClasses+" slide-rotateOut"+s:n[t-1].dataset.initialClasses+" slide-fadeOut"},50,this.currentSlide),this.currentSlide=void 0===t?this.currentSlide:t,this.currentSlide=this.currentSlide>n.length?1:this.currentSlide<1?n.length:this.currentSlide,n[this.currentSlide-1].style.display="none",setTimeout(t=>{n[t-1].style.display="block",n[t-1].className="slide"==n[t-1].dataset.transition?n[t-1].dataset.initialClasses+" slide-slideIn"+i:"rotate"==n[t-1].dataset.transition?n[t-1].dataset.initialClasses+" slide-rotateIn"+i:n[t-1].dataset.initialClasses+" slide-fadeIn"},50,this.currentSlide),this.element.querySelectorAll("nav a").forEach((t,e)=>{t.classList.remove("active"),e===this.currentSlide-1&&t.classList.add("active")}),this.options.pagination&&(this.paginationElement.innerHTML=this.currentSlide+" / "+n.length),this.options.onShow.call(this,this),this.isZoomed&&(e=this.isZoomed,this.element.dispatchEvent(new Event("mouseenter")),this.isZoomed=e)}start(){this.stop(),this.timer=setInterval(()=>{this.show(this.currentSlide+1)},this.options.autoplayDelay),this.options.onStart.call(this,this)}stop(){this.timer&&clearInterval(this.timer),this.options.onStop.call(this,this)}forward(){this.show(this.currentSlide+1),this.options.autoplay&&this.start()}backward(){this.show(this.currentSlide-1),this.options.autoplay&&this.start()}}),void 0===window.fancyTabs&&(window.fancyTabs=class{constructor(t,e){this.nodes=[],"string"==typeof t?this.nodes=Array.prototype.slice.call(document.querySelectorAll(t)):Node.prototype.isPrototypeOf(t)?this.nodes.push(t):NodeList.prototype.isPrototypeOf(t)||HTMLCollection.prototype.isPrototypeOf(t)?this.nodes=Array.prototype.slice.call(t):(e=t,this.nodes=Array.prototype.slice.call(document.querySelectorAll(".fancy-tabs"))),this.options=Object.assign({},e);for(const i of this.nodes)i.currentTab=null,i.initTab=null,i.totalWidth=0,i.querySelectorAll("ul.tabs>li").forEach((t,e)=>{t.dataset.html=t.innerHTML,t.dataset.text=t.innerText,t.title=t.innerText,t.dataset.icon&&(t.innerHTML=t.innerHTML.replace(t.innerText,t.dataset.icon+" "+t.innerText));var n=t.currentStyle||window.getComputedStyle(t);i.totalWidth+=t.offsetWidth+parseInt(n["margin-left"]),t.classList.contains("active")&&(i.initTab=t),t.addEventListener("click",t=>{const e="LI"===t.target.className?t.target:t.target.closest("li");e.classList.contains("disabled")||(e.closest("ul").querySelectorAll("li").forEach(t=>{t.classList.remove("active")}),e.classList.add("active"),i.currentTab&&(i.querySelector(`[data-id="${i.currentTab}"]`).style.display="none"),e.dataset.opens&&(i.currentTab=e.dataset.opens,i.querySelector(`[data-id="${i.currentTab}"]`).style.display="block"))})}),i.initTab&&i.initTab.dataset.opens&&i.initTab.click();return window.addEventListener("resize",()=>{for(const e of this.nodes)e.querySelectorAll("ul.tabs>li").forEach(t=>{e.clientWidth<e.totalWidth&&!1!==this.options.collapse?t.innerHTML=t.dataset.html.replace(t.dataset.text,t.dataset.icon||(3<t.dataset.text.length?t.dataset.text.substring(0,3)+"…":t.dataset.text)):t.innerHTML=t.dataset.icon?t.dataset.html.replace(t.dataset.text,t.dataset.icon+" "+t.dataset.text):t.dataset.html})}),this}}),document.addEventListener("DOMContentLoaded",()=>{for(const i of document.querySelectorAll("[placeholder][data-slots]")){const s=i.getAttribute("placeholder"),o=new Set(i.dataset.slots||"_"),a=(n=>Array.from(s,(t,e)=>o.has(t)?n=e+1:n))(0),l=[...s].findIndex(t=>o.has(t)),r=new RegExp(i.dataset.accept||"\\d","g"),c=e=>(e=e.match(r)||[],Array.from(s,t=>(e[0]===t||o.has(t))&&e.shift()||t));var t=()=>{var[t,e]=[i.selectionStart,i.selectionEnd].map(t=>(t=c(i.value.slice(0,t)).findIndex(t=>o.has(t)))<0?a.at(-1):n?a[t-1]||l:t);i.value=c(i.value).join(""),i.setSelectionRange(t,e),n=!1};let n=!1;i.addEventListener("keydown",t=>n="Backspace"===t.key),i.addEventListener("input",t),i.addEventListener("focus",t),i.addEventListener("blur",()=>(i.dataset.validate&&i.value.match(new RegExp(i.dataset.validate))?i.setCustomValidity(""):i.dataset.validate&&!i.value.match(new RegExp(i.dataset.validate))&&i.setCustomValidity(i.title||"Invalid input"),i.value===s&&(i.value="")))}});