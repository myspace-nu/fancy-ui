/*!
 * Fancy UI v0.0.7
 * https://github.com/myspace-nu
 *
 * Copyright 2024 Johan Johansson
 * Released under the MIT license
 */
void 0===window.fancyAlert&&(window.fancyAlertBox=class{constructor(t,e,n){if(n=Object.assign({closeButton:!0,icon:"&#128712;",timeout:!1,type:"info"},n),this.node=document.createElement("div"),this.close=()=>{let t=this.node;this.node.style.transition="all 1s ease",this.node.style.transform="scale(0)",this.node.addEventListener("transitionend",function(){t.remove()})},this.node.classList.add("fancy-alert","fancy-alert-"+n.type),n.discrete&&this.node.classList.add("fancy-alert-discrete"),n.icon){let t=document.createElement("div");t.classList.add("fancy-alert-icon"),t.innerHTML=n.icon,this.node.append(t)}let o=document.createElement("div");if(o.classList.add("fancy-alert-message"),o.innerHTML=e,this.node.append(o),n.closeButton){let t=document.createElement("div");t.classList.add("fancy-alert-close"),t.innerHTML="&#x2715;",t.addEventListener("click",t=>{this.close(t.target.closest(".fancy-alert"))}),this.node.append(t)}return t.node.prepend(this.node),n.timeout&&window.setTimeout(()=>{this.close()},n.timeout),this}close(){this.close()}},window.fancyAlert=class{constructor(t,e){this.options=Object.assign({onClick:()=>{}},e),this.container;return"string"==typeof t?this.node=document.querySelector(t):Node.prototype.isPrototypeOf(t)&&(this.node=t),this.node||(this.node=document.body),this}show(t,e){return new fancyAlertBox(this,t,e)}}),void 0===window.fancyAutoIndex&&(window.fancyAutoIndex=class{constructor(t,e){this.nodes=[],"string"==typeof t?this.nodes=Array.prototype.slice.call(document.querySelectorAll(t)):Node.prototype.isPrototypeOf(t)?this.nodes.push(t):NodeList.prototype.isPrototypeOf(t)||HTMLCollection.prototype.isPrototypeOf(t)?this.nodes=Array.prototype.slice.call(t):(e=t,this.nodes=[document.body]),this.options=Object.assign({selector:"h1,h2"},e);for(const n of this.nodes){let a=document.createElement("ul");n.querySelectorAll(this.options.selector).forEach((t,e)=>{var n=t.innerText.toLowerCase().replace(/\s+/g,"-").match(/[a-z0-9-]+/g).join("");let o=t.querySelector("a[name]"),i=(o||((o=document.createElement("a")).setAttribute("name",n),t.prepend(o)),document.createElement("a")),s=(i.href="#"+n,i.innerHTML=t.innerText,document.createElement("li"));s.appendChild(i),a.appendChild(s)}),n.toc="string"==typeof this.options.toc&&document.querySelector(this.options.toc)?document.querySelector(this.options.toc):Node.prototype.isPrototypeOf(this.options.toc)?this.options.toc:void 0,n.toc&&n.toc.appendChild(a)}return this}}),void 0===window.fancyAutocomplete&&(window.fancyAutocomplete=class{constructor(t,e){this.options=Object.assign({deduplicate:!0,words:[]},e),this.nodes=[];"string"==typeof t?this.nodes=Array.prototype.slice.call(document.querySelectorAll(t)):"object"==typeof t&&void 0===t.length?this.nodes.push(t):"object"==typeof t&&0<t.length&&(this.nodes=Array.prototype.slice.call(t));for(const l of this.nodes){const r=document.createElement("UL");r.className="fancy-autocomplete-list",l.parentNode.insertBefore(r,l.nextSibling);let s=this.options.words.concat(l.dataset.autocomplete.split(",")),a=(this.options.deduplicate&&(s=[...new Set(s.map(t=>t.trim()))]),-1);const c=t=>{t=t.split(/[\s,]+/);return t[t.length-1]},d=t=>{t=t.match(/^(.*?)([\s,]*)[^,\s]*$/);return t?t[1]+(t[2]||""):""};const n=t=>{const e=r.querySelectorAll("li");if(0!==e.length){(a=(a+=t)<0?e.length-1:a)>=e.length&&(a=0),e.forEach((t,e)=>{t.classList.toggle("active",e===a)});const n=e[a];n&&n.scrollIntoView({block:"nearest"})}};l.addEventListener("input",()=>{var t=l.value;const n=c(t).toLowerCase();if(r.innerHTML="",a=-1,n){const o=l.value.split(/[\s,]+/).map(t=>t.trim()).filter(t=>0<t.length),e=s.map(t=>t.trim()).filter(t=>{const e=t.toLowerCase();if(this.options.deduplicate&&o.some(t=>t.toLowerCase()===e))return!1;return e.startsWith(n)}).sort();if(0===e.length)r.style.display="none";else{const i=d(t);e.forEach((t,e)=>{const n=document.createElement("li");n.textContent=t,n.setAttribute("data-index",e),n.addEventListener("click",()=>{l.value=i+t+" ",r.style.display="none",l.focus()}),r.appendChild(n)});t=l.getBoundingClientRect();r.style.width=t.width+"px",r.style.display="block",r.style.left=t.left+window.scrollX+"px",t.bottom+r.offsetHeight<window.innerHeight?r.style.top=t.bottom+window.scrollY+"px":r.style.top=t.top+window.scrollY-r.offsetHeight+"px"}}else r.style.display="none"}),l.addEventListener("keydown",t=>{if("block"===r.style.display)switch(t.key){case"ArrowDown":t.preventDefault(),n(1);break;case"ArrowUp":t.preventDefault(),n(-1);break;case"Enter":t.preventDefault();{const e=r.querySelector("li.active");e&&e.click()}break;case"Escape":r.style.display="none"}}),document.addEventListener("click",t=>{t.target!==l&&t.target.parentNode!==r&&(r.style.display="none")})}return this}}),void 0===window.fancyBlocker&&(window.fancyBlocker=class{constructor(t){if(this.options=Object.assign({onClick:()=>{}},t),this.blocker=document.createElement("div"),this.blocker.className="fancy-blocker",this.options.spinner){let t=document.createElement("div");t.className="spinner",this.blocker.appendChild(t)}return document.body.appendChild(this.blocker),this}show(){return this.blocker.style.display="flex",document.body.classList.add("fancy-noscroll"),this}hide(){return this.blocker.style.display="none",document.body.classList.remove("fancy-noscroll"),this}destroy(){return this.blocker.remove(),document.body.classList.remove("fancy-noscroll"),this}}),void 0===window.fancyContextMenu&&(window.fancyContextMenu=class{constructor(t,e){this.options=Object.assign({trigger:"contextmenu",onClick:()=>{}},e),this.nodes=[],this.container;const n=this;"string"==typeof t?this.nodes=Array.prototype.slice.call(document.querySelectorAll(t)):"object"==typeof t&&void 0===t.length?this.nodes.push(t):"object"==typeof t&&0<t.length&&(this.nodes=Array.prototype.slice.call(t));try{this.content="string"==typeof this.options.content&&document.querySelector(this.options.content)?document.querySelector(this.options.content).innerHTML:"object"==typeof this.options.content&&void 0===this.options.content.length?this.options.content.innerHTML:"string"==typeof this.options.content?this.options.content:""}catch{this.content=this.options.content}for(const o of this.nodes)o.addEventListener(this.options.trigger,function(t){t.preventDefault(),t.stopPropagation(),n.init(t)});return document.addEventListener("click",t=>{n.remove(t)}),document.addEventListener("contextmenu",t=>{n.remove(t)}),document.addEventListener("scroll",t=>{n.remove(t)}),window.addEventListener("resize",t=>{n.remove(t)}),this}init(t){const n=this;this.container&&this.remove(),this.container=document.createElement("div"),this.container.style.display="none",this.container.style.position="fixed",this.container.className="fancy-context-menu",document.body.appendChild(this.container),this.container.innerHTML=this.content,this.container.style.display="",t.clientX+this.container.offsetWidth>window.innerWidth?(this.container.style.left=t.clientX-this.container.offsetWidth+10+"px",this.container.querySelectorAll("ul").forEach(t=>{t.style.left="",t.style.right="100%"})):(this.container.style.left=t.clientX-10+"px",this.container.querySelectorAll("ul").forEach(t=>{t.style.left="100%",t.style.right=""})),this.container.style.top=t.clientY>window.innerHeight/2?t.clientY-this.container.offsetHeight+10+"px":t.clientY-10+"px",this.container.addEventListener("click",function(t){var e="A"===t.target.tagName?t.target:t.target.closest("a");e.href&&e.href===location.href.split(/[#?]/)[0]&&t.preventDefault(),n.options.onClick.call(this,t,e)})}remove(t){this.container&&(this.container.remove(),this.container=null)}}),void 0===window.fancyDialog&&(window.fancyDialog=(a={})=>{a.buttons||=["Ok"],a.buttons=a.buttons.map(t=>((t="string"==typeof t?{text:t}:t).action||=t.text,t.type||="confirm",t)),a.blocking??=!0,a.dismissable??=!1;const l=document.createElement("div"),r=(l.className="fancy-dialog",a.blocking&&l.classList.add("blocking"),document.createElement("div"));r.className="fancy-dialog-content",r.innerHTML=a.content instanceof HTMLElement&&a.content.type?.match(/text/i)?a.content.textContent:a.content instanceof HTMLElement?a.content.innerHTML:a.content||"";for(const e of Object.keys(a.initialValues||{}))[...r.querySelectorAll(`*[name="${e}"]`)].forEach(t=>{"SELECT"===t.tagName?[...t.querySelectorAll("option")].forEach(t=>{t.selected=a.initialValues[e].includes(t.value)}):["radio","checkbox"].includes(t.type)?t.checked=t.value===a.initialValues[e]||"checkbox"===t.type&&!0===a.initialValues[e]:t.value=a.initialValues[e]});l.appendChild(r),document.body.appendChild(l),l.style.display="flex",document.body.classList.add("fancy-noscroll");const c=()=>{l.style.display="none",document.body.classList.remove("fancy-noscroll"),l.remove()};return{promise:new Promise((e,t)=>{if(a.buttons){const o=document.createElement("div");o.className="fancy-dialog-buttons";for(const i of a.buttons){const s=document.createElement("button");s.innerHTML=i.text,s.addEventListener("click",()=>{let t={};if(l.querySelector("form")){if("confirm"===i.type&&!l.querySelector("form").reportValidity())return!1;t=[...new FormData(l.querySelector("form")).entries()].reduce((t,[e,n])=>(t[e]=t.hasOwnProperty(e)?[].concat(t[e],n):n,t),{})}e({action:i.action?.toLowerCase(),button:i,data:t}),c()}),o.appendChild(s)}r.appendChild(o)}l.querySelector("form")?.addEventListener("submit",t=>{t.preventDefault(),console.log(a)}),l.addEventListener("click",t=>{t.target===l&&a.dismissable&&(e({}),c())});const n=t=>{"Escape"!==t.key||t.ctrlKey||t.altKey||t.shiftKey||(document.removeEventListener("keydown",n),e({}),c())};document.addEventListener("keydown",n)}),close:()=>{c()}}}),void 0===window.fancyParallaxScroll&&(window.fancyParallaxScroll=class{constructor(t=".fancy-parallax-scroll",e){this.options=Object.assign({},e),this.nodes=[],"string"==typeof t?this.nodes=Array.prototype.slice.call(document.querySelectorAll(t)):"object"==typeof t&&void 0===t.length?this.nodes.push(t):"object"==typeof t&&0<t.length&&(this.nodes=Array.prototype.slice.call(t));const n=()=>{for(const o of this.nodes){var t,e,n;window.scrollY+window.innerHeight>o.offsetTop&&window.scrollY<o.offsetTop+o.offsetHeight&&(t=Math.min(Math.max(parseFloat(o.dataset.speed),1),-1)||1,e=(window.scrollY+window.innerHeight-o.offsetTop)*t,n=window.innerHeight+o.offsetHeight,o.style.backgroundPosition=`50% ${e/n*100+(50-50*t)}%`)}};return window.addEventListener("load",()=>{n()}),window.addEventListener("scroll",()=>{n()}),window.addEventListener("resize",()=>{n()}),this}}),void 0===window.fancySlider&&(window.fancySlider=class{constructor(t,e){if(this.options=Object.assign({history:!0,navigation:!1,pagination:!1,preloadImages:!0,autoplayDelay:5e3,useZoom:!1,zoomPercent:200,onShow:()=>{},onStart:()=>{},onStop:()=>{}},e),"object"==typeof(t="string"==typeof t?document.querySelectorAll(t):t)&&1<t.length){let e=[];return t.forEach(t=>{e.push(new fancySlider(t))}),e}if(this.element=t[0],this.currentSlide=null,this.isZoomed=!1,this.element.querySelectorAll(".slide").forEach((t,e)=>{t.dataset.initialClasses=t.className}),this.options.preloadImages&&(this.element.querySelectorAll("img").forEach(t=>{let e=new Image;e.src=t.src}),this.element.querySelectorAll("div").forEach(e=>{if(e.style["background-image"]){let t=new Image;t.src=e.style["background-image"].match(/url\(["']?([^"']*)["']?\)/)[1]}})),this.options.history){let t;(t=document.createElement("a")).innerHTML="&#10094;",t.addEventListener("click",t=>{this.backward()}),t.classList.add("prev"),this.element.appendChild(t),(t=document.createElement("a")).innerHTML="&#10095;",t.addEventListener("click",t=>{this.forward()}),t.classList.add("next"),this.element.appendChild(t)}if(this.options.navigation){let o=document.createElement("nav");this.element.querySelectorAll(".slide").forEach((t,e)=>{let n=document.createElement("a");n.addEventListener("click",t=>{this.show(e+1),this.options.autoplay&&this.start()}),o.appendChild(n)}),this.element.appendChild(o)}if(this.options.pagination){this.paginationElement=document.createElement("div"),this.paginationElement.className="pagination";let t="boolean"==typeof this.options.pagination?this.element:"string"==typeof this.options.pagination&&document.querySelector(this.options.pagination)?document.querySelector(this.options.pagination):"object"==typeof this.options.pagination?this.options.pagination:this.element;t.appendChild(this.paginationElement)}return this.options.useZoom&&(this.element.addEventListener("mouseenter",t=>{const e=this.element.querySelectorAll(".slide")[this.currentSlide-1];e.style.backgroundSize=Math.min(Math.max(this.options.zoomPercent,100),500)+"%",this.isZoomed=!0}),this.element.addEventListener("mouseleave",t=>{const e=this.element.querySelectorAll(".slide")[this.currentSlide-1];e.style.backgroundSize="cover",this.isZoomed=!1}),this.element.addEventListener("mousemove",t=>{const e=this.element.querySelectorAll(".slide")[this.currentSlide-1];var n=e.getBoundingClientRect(),o=(t.clientX-n.left)/n.width*100,t=(t.clientY-n.top)/n.height*100;e.style.backgroundPosition=o+`% ${t}%`})),this.options.autoplay&&this.start(),this.show(1),this}show(t){var e;this.isZoomed&&(e=this.isZoomed,this.element.dispatchEvent(new Event("mouseleave")),this.isZoomed=e);let n=this.element.querySelectorAll(".slide"),o=t>this.currentSlide?"Right":"Left",i="Right"==o?"Left":"Right";1<=this.currentSlide&&setTimeout(t=>{n[t-1].className="slide"==n[t-1].dataset.transition?n[t-1].dataset.initialClasses+" slide-slideOut"+i:"rotate"==n[t-1].dataset.transition?n[t-1].dataset.initialClasses+" slide-rotateOut"+i:n[t-1].dataset.initialClasses+" slide-fadeOut"},50,this.currentSlide),this.currentSlide=void 0===t?this.currentSlide:t,this.currentSlide=this.currentSlide>n.length?1:this.currentSlide<1?n.length:this.currentSlide,n[this.currentSlide-1].style.display="none",setTimeout(t=>{n[t-1].style.display="block",n[t-1].className="slide"==n[t-1].dataset.transition?n[t-1].dataset.initialClasses+" slide-slideIn"+o:"rotate"==n[t-1].dataset.transition?n[t-1].dataset.initialClasses+" slide-rotateIn"+o:n[t-1].dataset.initialClasses+" slide-fadeIn"},50,this.currentSlide),this.element.querySelectorAll("nav a").forEach((t,e)=>{t.classList.remove("active"),e===this.currentSlide-1&&t.classList.add("active")}),this.options.pagination&&(this.paginationElement.innerHTML=this.currentSlide+" / "+n.length),this.options.onShow.call(this,this),this.isZoomed&&(e=this.isZoomed,this.element.dispatchEvent(new Event("mouseenter")),this.isZoomed=e)}start(){this.stop(),this.timer=setInterval(()=>{this.show(this.currentSlide+1)},this.options.autoplayDelay),this.options.onStart.call(this,this)}stop(){this.timer&&clearInterval(this.timer),this.options.onStop.call(this,this)}forward(){this.show(this.currentSlide+1),this.options.autoplay&&this.start()}backward(){this.show(this.currentSlide-1),this.options.autoplay&&this.start()}}),void 0===window.fancyTabs&&(window.fancyTabs=class{constructor(t,e){this.nodes=[],"string"==typeof t?this.nodes=Array.prototype.slice.call(document.querySelectorAll(t)):Node.prototype.isPrototypeOf(t)?this.nodes.push(t):NodeList.prototype.isPrototypeOf(t)||HTMLCollection.prototype.isPrototypeOf(t)?this.nodes=Array.prototype.slice.call(t):(e=t,this.nodes=Array.prototype.slice.call(document.querySelectorAll(".fancy-tabs"))),this.options=Object.assign({collapse:!0},e);for(const o of this.nodes)o.currentTab=null,o.initTab=null,o.totalWidth=0,o.querySelectorAll("ul.tabs>li").forEach((t,e)=>{t.dataset.html=t.innerHTML,t.dataset.text=t.innerText,t.title=t.innerText,t.dataset.icon&&(t.innerHTML=t.innerHTML.replace(t.innerText,t.dataset.icon+" "+t.innerText));var n=t.currentStyle||window.getComputedStyle(t);o.totalWidth+=t.offsetWidth+parseInt(n["margin-left"]),t.classList.contains("active")&&(o.initTab=t),t.addEventListener("click",t=>{const e="LI"===t.target.className?t.target:t.target.closest("li");e.classList.contains("disabled")||(e.closest("ul").querySelectorAll("li").forEach(t=>{t.classList.remove("active")}),e.classList.add("active"),o.currentTab&&(o.querySelector(`[data-id="${o.currentTab}"]`).style.display="none"),e.dataset.opens&&(o.currentTab=e.dataset.opens,o.querySelector(`[data-id="${o.currentTab}"]`).style.display="block"))})}),o.initTab&&o.initTab.dataset.opens&&o.initTab.click();const n=()=>{for(const e of this.nodes){const n=e.querySelector("ul.tabs").currentStyle||window.getComputedStyle(e.querySelector("ul.tabs"));e.querySelectorAll("ul.tabs>li").forEach(t=>{e.clientWidth-parseInt(n["padding-left"])-parseInt(n["padding-right"])<e.totalWidth?this.options.collapse?t.innerHTML=t.dataset.html.replace(t.dataset.text,t.dataset.icon||(3<t.dataset.text.length?t.dataset.text.substring(0,3)+"…":t.dataset.text)):(t.innerHTML=t.dataset.icon?t.dataset.html.replace(t.dataset.text,t.dataset.icon+" "+t.dataset.text):t.dataset.html,t.style.width="calc(100%)",t.style.marginLeft="0"):(t.innerHTML=t.dataset.icon?t.dataset.html.replace(t.dataset.text,t.dataset.icon+" "+t.dataset.text):t.dataset.html,t.style.width="",t.style.marginLeft="")})}};return window.addEventListener("load",()=>{for(const o of this.nodes)o.totalWidth=0,o.querySelectorAll("ul.tabs>li").forEach((t,e)=>{var n=t.currentStyle||window.getComputedStyle(t);o.totalWidth+=t.offsetWidth+parseInt(n["margin-left"])});window.addEventListener("resize",()=>{n()}),n()}),this}}),document.addEventListener("DOMContentLoaded",()=>{for(const o of document.querySelectorAll("[placeholder][data-slots]")){const i=o.getAttribute("placeholder"),s=new Set(o.dataset.slots||"_"),a=(n=>Array.from(i,(t,e)=>s.has(t)?n=e+1:n))(0),l=[...i].findIndex(t=>s.has(t)),r=new RegExp(o.dataset.accept||"\\d","g"),c=e=>(e=e.match(r)||[],Array.from(i,t=>(e[0]===t||s.has(t))&&e.shift()||t));var t=()=>{var[t,e]=[o.selectionStart,o.selectionEnd].map(t=>(t=c(o.value.slice(0,t)).findIndex(t=>s.has(t)))<0?a.at(-1):n?a[t-1]||l:t);o.value=c(o.value).join(""),o.setSelectionRange(t,e),n=!1};let n=!1;o.addEventListener("keydown",t=>n="Backspace"===t.key),o.addEventListener("input",t),o.addEventListener("focus",t),o.addEventListener("blur",()=>(o.dataset.validate&&o.value.match(new RegExp(o.dataset.validate))?o.setCustomValidity(""):o.dataset.validate&&!o.value.match(new RegExp(o.dataset.validate))&&o.setCustomValidity(o.title||"Invalid input"),o.value===i&&(o.value="")))}});